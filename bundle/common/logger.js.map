{"version":3,"sources":["../../common/logger.js"],"names":["logger","winston","createLogger","level","format","json","process","env","NODE_ENV","add","transports","Console","simple","File","filename","cwd"],"mappings":";;;;;;AAAA;;;;;;AAEA,IAAIA,SAASC,kBAAQC,YAAR,CAAqB;AAChCC,SAAO,MADyB;AAEhCC,UAAQH,kBAAQG,MAAR,CAAeC,IAAf;AAFwB,CAArB,CAAb;;AAKA;AACA;AACA;AACA;AACA,IAAIC,QAAQC,GAAR,CAAYC,QAAZ,IAAwB,KAAxB,IAAiCF,QAAQC,GAAR,CAAYC,QAAZ,IAAwB,YAA7D,EAA2E;AACzER,SAAOS,GAAP,CAAW,IAAIR,kBAAQS,UAAR,CAAmBC,OAAvB,CAA+B;AACxCP,YAAQH,kBAAQG,MAAR,CAAeQ,MAAf;AADgC,GAA/B,CAAX;AAGD,CAJD,MAIO,IAAIN,QAAQC,GAAR,CAAYC,QAAZ,IAAwB,MAA5B,EAAoC;AACzCR,SAAOS,GAAP,CAAW,IAAIR,kBAAQS,UAAR,CAAmBG,IAAvB,CAA4B;AACrCC,cAAaR,QAAQS,GAAR,EAAb;AADqC,GAA5B,CAAX;AAGD;;kBAEcf,M","file":"logger.js","sourcesContent":["import winston from 'winston';\n\nvar logger = winston.createLogger({\n  level: 'info',\n  format: winston.format.json(),\n});\n\n//\n// If we're not in production then log to the `console` with the format:\n// `${info.level}: ${info.message} JSON.stringify({ ...rest }) `\n//\nif (process.env.NODE_ENV == 'dev' || process.env.NODE_ENV == 'production') {\n  logger.add(new winston.transports.Console({\n    format: winston.format.simple(),\n  }));\n} else if (process.env.NODE_ENV == 'test') {\n  logger.add(new winston.transports.File({\n    filename: `${process.cwd()}/var/log/all.log`,\n  }));  \n}\n\nexport default logger;\n"]}