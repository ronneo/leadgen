{"version":3,"sources":["../../../server/helper/AccessTokenHelper.js"],"names":["datahandler","req","res","next","at","query","access_token","body","params","botConfig","checkAccessToken","status","send"],"mappings":";;;;;;kBAAe,UAASA,WAAT,EAAsB;AACnC,SAAO,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACzB,QAAIC,KAAKH,IAAII,KAAJ,CAAUC,YAAV,IAA0BL,IAAIM,IAAJ,CAASD,YAAnC,IAAmDL,IAAIO,MAAJ,CAAWF,YAAvE;AACA,QAAIF,MAAMJ,YAAYS,SAAZ,CAAsBC,gBAAtB,CAAuCN,EAAvC,CAAV,EAAsD;AACpDD;AACD,KAFD,MAEO;AACLD,UAAIS,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,oBAArB;AACD;AACF,GAPD;AAQD,C","file":"AccessTokenHelper.js","sourcesContent":["export default function(datahandler) {\n  return (req, res, next) => {\n    let at = req.query.access_token || req.body.access_token || req.params.access_token;\n    if (at && datahandler.botConfig.checkAccessToken(at)) {\n      next();\n    } else {\n      res.status(401).send('Permission denied.');\n    }\n  };\n}\n"]}